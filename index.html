<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase MainPage</title>
</head>
<body>
    <button class="btnForDeleteDoc">DeleteDoc</button>

    <h1>test</h1>
    
</body>

<script src="./cdn/sweetalert2@11.net_npm_sweetalert2@11"></script>
<script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-storage.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-database.js"></script>
<script type="module">

/* start 000 import Firebase */
const firebaseConfig = {
    apiKey: "AIzaSyBp8VDM0i3MRj3ubLXGtFEh_OfMdt4b1_Y",
    authDomain: "firstproject-ee3fe.firebaseapp.com",
    projectId: "firstproject-ee3fe",
    storageBucket: "firstproject-ee3fe.appspot.com",
    messagingSenderId: "427355085094",
    appId: "1:427355085094:web:82916109a1ae5f5518c9e7"
};

import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.8.2/firebase-app.js';
import { getFirestore, collection, query, where, getDocs,getDoc, setDoc, addDoc, doc,deleteDoc,onSnapshot,orderBy, limit,startAt,endAt } from 'https://www.gstatic.com/firebasejs/9.8.2/firebase-firestore.js';

firebase.initializeApp(firebaseConfig);
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const storage = firebase.storage();
/* end 000 import Firebase */




/* start 001 setDoc */
// setDoc(doc(db, "collection 1", "13") , {
//     text: "a text",
//     name: "Omar"
// });
/* end 001 setDoc */




/* start 002 getDoc */
getDoc(doc(db, "collection 1", `13`)).then( e =>{
  document.querySelector("h1").innerHTML = e.data().name;
    console.log(e.data());
    swal.fire(`${e.data().name}`,e.data().text,"success");

});
/* end 002 getDoc */



/* start 003 deleteDoc */
// document.querySelector(".btnForDeleteDoc").addEventListener("click",(e)=>{
//     let orderDoc = doc(db, "collection 1", `34`);
//     deleteDoc(orderDoc);
// })
/* end 003 deleteDoc */





/* start 004 get all Docs */

let AllDocs;
async function getAllDocs(collectionName){
  
  let q = query(collection(db, `${collectionName}`));
  console.log("Q", q);
  let querySnapshot = await getDocs(q);
  let List = querySnapshot.docs.map(doc => doc.data());
  AllDocs=List;

  return AllDocs;
};

getAllDocs("collection 1").then(e=>{
    console.log("all", e);
})

/* end 004 get all Docs */







</script>
</html>